(this.webpackJsonptest_project_newtone=this.webpackJsonptest_project_newtone||[]).push([[0],{61:function(t,e,c){},68:function(t,e,c){},70:function(t,e,c){"use strict";c.r(e);var i=c(2),a=c(0),r=c.n(a),n=c(19),s=c.n(n),d=(c(61),c(31)),o=c(27),j=c(51),l=c(52),u=c(8),b=c(85),m=c(86),h=c(87),p=c(5),O=c(95),x=c(49),g=c.n(x),v=c(18),f=Object(p.a)((function(t){return Object(O.a)({badge:{right:-3,top:13,border:"2px solid ".concat(t.palette.background.paper),padding:"0 4px"}})}))(b.a),P=function(t){var e=t.totalCount,c=t.totalPrice;return Object(i.jsx)("div",{className:"header",children:Object(i.jsx)(m.a,{maxWidth:"md",children:Object(i.jsxs)("div",{className:"header__inner",children:[Object(i.jsx)(v.b,{to:"/",children:Object(i.jsx)("div",{className:"logo",children:"FruitShop"})}),Object(i.jsx)(v.b,{to:"/cart",children:Object(i.jsxs)("div",{className:"cart",children:[Object(i.jsx)(h.a,{"aria-label":"cart",children:Object(i.jsx)(f,{badgeContent:e,color:"secondary",children:Object(i.jsx)(g.a,{})})}),Object(i.jsxs)("div",{className:"cart__price",children:[" ",c," $"]})]})})]})})})},_=c(96),C=c(89),N=c(90),L=c(91),y=c(92),w=c(93),k=c(94),S=c(88),A=c(50),B=c.n(A),F=Object(S.a)({root:{width:345,margin:"15px"},media:{height:200},btn:{width:"100%"},btnLabel:{marginRight:"3px"}}),W=function(t){var e=t.productItem,c=t.onAddProductToCart,a=t.addedProducts,r=F(),n=a[e.id]?a[e.id].count:0;return Object(i.jsxs)(_.a,{className:r.root,children:[Object(i.jsxs)(C.a,{children:[Object(i.jsx)(N.a,{className:r.media,image:e.img,title:e.name}),Object(i.jsxs)(L.a,{children:[Object(i.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(i.jsxs)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:[e.price," $ (per kg)"]})]})]}),Object(i.jsx)(w.a,{children:Object(i.jsxs)(k.a,{variant:"contained",color:"primary",className:r.btn,onClick:function(){return c(e)},children:[Object(i.jsx)("span",{className:r.btnLabel,children:"Add to cart"}),Object(i.jsx)(b.a,{color:"secondary",badgeContent:n,children:Object(i.jsx)(B.a,{})})]})})]})},D=function(t){var e=t.productsList,c=t.onAddProductToCart,a=t.addedProducts;return Object(i.jsx)("div",{className:"home",children:Object(i.jsx)(m.a,{maxWidth:"md",children:Object(i.jsx)("div",{className:"home__inner",children:e.map((function(t){return Object(i.jsx)(W,{productItem:t,onAddProductToCart:c,addedProducts:a},t.id)}))})})})},T=c(97),z=function(t){var e=t.addedProducts,c=t.onCartClear,a=Object.keys(e.productsList).map((function(t){return e.productsList[t].items[0]}));return Object(i.jsx)("div",{className:"cart",children:Object(i.jsxs)(m.a,{maxWidth:"md",children:[0===e.totalPrice&&Object(i.jsx)("div",{className:"cart-empty",children:Object(i.jsx)("h1",{children:"Cart is empty.."})}),Object(i.jsx)("div",{className:"cart__list",children:a.map((function(t){return Object(i.jsxs)("div",{className:"cart__list-item cart-item",children:[Object(i.jsx)(T.a,{src:t.img,alt:t.name}),Object(i.jsx)("div",{className:"cart-item__label",children:t.name}),Object(i.jsxs)("div",{className:"cart-item__label",children:[e.productsList[t.id].items.length,"kg"]}),Object(i.jsxs)("div",{className:"cart-item__label",children:[e.productsList[t.id].price,"$"]})]},t.id)}))}),Object(i.jsxs)("div",{className:"cart__actions",children:[Object(i.jsx)(v.b,{to:"/",children:Object(i.jsx)(k.a,{variant:"contained",color:"primary",children:"Return to products list"})}),0!==e.totalPrice&&Object(i.jsx)(k.a,{color:"primary",onClick:c,children:"Clear cart"})]})]})})},I=[{id:1,name:"Banana",price:10,img:"https://www.gastronom.ru/binfiles/images/20151029/bddcbbce.jpg",discountSize:0,discountPerWeight:0},{id:2,name:"Apple",price:8,img:"https://m.dom-eda.com/uploads/images/catalog/item/86df51de21/c25c94fe96_1000.jpg",discountSize:0,discountPerWeight:0},{id:3,name:"Papaya",price:10,img:"https://static.wikia.nocookie.net/edopedia/images/8/8c/%D0%9F%D0%B0%D0%BF%D0%B0%D0%B9%D1%8F.png/revision/latest?cb=20171216150804&path-prefix=ru",discountSize:5,discountPerWeight:3}];c(68);var $=function(){var t={productsList:{},totalPrice:0,totalCount:0},e=Object(a.useState)(t),c=Object(l.a)(e,2),r=c[0],n=c[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(P,{totalCount:r.totalCount,totalPrice:r.totalPrice}),Object(i.jsxs)(u.c,{children:[Object(i.jsx)(u.a,{path:"/",exact:!0,children:Object(i.jsx)(D,{productsList:I,onAddProductToCart:function(t){n((function(e){var c=function(t){return t.reduce((function(t,e){return t+e.price}),0)},i=e.productsList[t.id]?[].concat(Object(j.a)(e.productsList[t.id].items),[t]):[t],a=i.length,r=Object(o.a)(Object(o.a)({},e.productsList),{},Object(d.a)({},t.id,{items:i,count:a,price:0===t.discountSize?c(i):a%t.discountPerWeight===0?c(i)-a/t.discountPerWeight*t.discountSize:e.productsList[t.id]?e.productsList[t.id].price+t.price:t.price}));return console.log(e),Object(o.a)(Object(o.a)({},e),{},{productsList:r,totalPrice:Object.values(r).reduce((function(t,e){return t+e.price}),0),totalCount:Object.values(r).length})}))},addedProducts:r.productsList})}),Object(i.jsx)(u.a,{path:"/cart",children:Object(i.jsx)(z,{addedProducts:r,onCartClear:function(){window.confirm("Are you sure?")&&n(t)}})})]})]})},J=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(e){var c=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,n=e.getTTFB;c(t),i(t),a(t),r(t),n(t)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(v.a,{children:Object(i.jsx)($,{})})}),document.getElementById("root")),J()}},[[70,1,2]]]);
//# sourceMappingURL=main.d703c7f8.chunk.js.map